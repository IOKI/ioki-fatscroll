angular.module("ioki.fatscroll",[]).directive("fatscroll",function(a){"use strict";return{restrict:"A",transclude:!0,templateUrl:"templates/ioki-fatscroll",link:function(b,c){function d(){f(),c.on("mousewheel",e),c.on("DOMMouseScroll",e),t.on("mousedown touchstart",i)}function e(a){var b=void 0!==a.deltaY?a.deltaY:20*a.detail;q.scrollTop+=b,g(b)}function f(){var a=u*s;return t.css({height:a+"px"}),a}function g(a){var b,c=h(),d=parseInt(t.css("top"),10);l=f(),a*=u,d=d?d:0,b=d+a,b=a>0?(b>c?c:b)+"px":(0>b?0:b)+"px",t.css({top:b})}function h(){return s-l}function i(b){n=b.y||b.clientY,m=parseInt(t.css("top")||0,10),o=q.scrollTop,a.on("mousemove",k),a.on("mouseup",j)}function j(){a.off("mousemove",k),c.removeClass("no-select")}function k(a){var b,d=m+a.pageY-n;l=f(),b=h(),c.addClass("no-select"),d>b?t.css("top",b+"px"):0>d?t.css("top","0"):(t.css("top",+d+"px"),q.scrollTop=o+(a.pageY-n)/u)}var l,m,n,o,p=c[0],q=p.firstChild,r=c.find("scroll-content")[0].clientHeight,s=c.find("scroll-area")[0].clientHeight,t=c.find("thumb"),u=s/r;r>s?d():t.css("display","none")}}}),angular.module("ioki.fatscroll").run(["$templateCache",function(a){"use strict";a.put("templates/ioki-fatscroll",'<scroll-area>\n    <scroll-content class="scroll-content" ng-transclude></scroll-content>\n</scroll-area>\n<thumb></thumb>')}]);